// Code generated by adder. DO NOT EDIT.

package generated

import (
	
	"github.com/spf13/cobra"
)

// InitRequestFlags represents the flags for the init command
type InitRequestFlags struct {
	BinaryName string `json:"binaryName"` // Name of the binary/CLI (required)
	Force bool `json:"force"` // Overwrite existing configuration file
}

// InitRequest represents the parameters for the init command
type InitRequest struct {
	Flags InitRequestFlags `json:"flags"`
}

// InitHandler defines the interface for handling init commands
type InitHandler interface {
	HandleInit(cmd *cobra.Command, req *InitRequest) error
}

// NewInitCommand creates a new init command with the provided handler
func NewInitCommand(handler InitHandler) *cobra.Command {
	cmd := &cobra.Command{
		Use:     "init",
		Short:   "Initialize adder configuration",
		RunE: func(cmd *cobra.Command, args []string) error {
			return runInit(cmd, args, handler)
		},
	}

	// Register flags
	cmd.Flags().StringP("binary-name", "b", "", "Name of the binary/CLI (required)")
	cmd.Flags().BoolP("force", "f", false, "Overwrite existing configuration file")

	return cmd
}

// runInit handles argument and flag extraction
func runInit(cmd *cobra.Command, args []string, handler InitHandler) error {
	binaryName, _ := cmd.Flags().GetString("binary-name")
	force, _ := cmd.Flags().GetBool("force")

	// Create request
	req := &InitRequest{
		Flags: InitRequestFlags{
			BinaryName: binaryName,
			Force: force,
		},
	}

	// Call handler
	return handler.HandleInit(cmd, req)
}
