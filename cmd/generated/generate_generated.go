// Code generated by adder. DO NOT EDIT.

package generated

import (
	
	"github.com/spf13/cobra"
)

// GenerateRequestFlags represents the flags for the generate command
type GenerateRequestFlags struct {
	Input string `json:"input"` // Input directory containing markdown files
	Output string `json:"output"` // Output directory for generated files
	Package string `json:"package"` // Go package name for generated files
	Suffix string `json:"suffix"` // File suffix for generated files
}

// GenerateRequest represents the parameters for the generate command
type GenerateRequest struct {
	Flags GenerateRequestFlags `json:"flags"`
}

// GenerateHandler defines the interface for handling generate commands
type GenerateHandler interface {
	HandleGenerate(cmd *cobra.Command, req *GenerateRequest) error
}

// NewGenerateCommand creates a new generate command with the provided handler
func NewGenerateCommand(handler GenerateHandler) *cobra.Command {
	cmd := &cobra.Command{
		Use:     "generate",
		Short:   "Generate CLI commands from markdown documentation",
		RunE: func(cmd *cobra.Command, args []string) error {
			return runGenerate(cmd, args, handler)
		},
	}

	// Register flags
	cmd.Flags().StringP("input", "i", "docs/man", "Input directory containing markdown files")
	cmd.Flags().StringP("output", "o", "generated", "Output directory for generated files")
	cmd.Flags().StringP("package", "p", "generated", "Go package name for generated files")
	cmd.Flags().String("suffix", "_generated.go", "File suffix for generated files")

	return cmd
}

// runGenerate handles argument and flag extraction
func runGenerate(cmd *cobra.Command, args []string, handler GenerateHandler) error {
	input, _ := cmd.Flags().GetString("input")
	output, _ := cmd.Flags().GetString("output")
	pkg, _ := cmd.Flags().GetString("package")
	suffix, _ := cmd.Flags().GetString("suffix")

	// Create request
	req := &GenerateRequest{
		Flags: GenerateRequestFlags{
			Input: input,
			Output: output,
			Package: pkg,
			Suffix: suffix,
		},
	}

	// Call handler
	return handler.HandleGenerate(cmd, req)
}
